<!--
This template loads for the 'tab.friend-detail' state (app.js)
'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
The FriendsCtrl pulls data from the Friends service (service.js)
The Friends service returns an array of friend data
-->
<ion-view view-title="">
  <ion-content class="padding">
    <div class="list card" >
      <a href="#/tab/home/users/{{post.user.id}}">
        <div class="item item-avatar">
          <img src="{{post.user.avatar}}">
          <h2>{{post.user.name}}</h2>
          <p ng-bind="post.created_at | date:'yyyy-MM-dd'"></p>
        </div>
      </a>
      <!-- <div class="item item-body"> -->
        <div style="margin-left:20px;" ng-bind-html="post.content"></div>
        <!-- <a href="#" class="subdued">1 Like</a> -->
        <!-- <a href="#" class="subdued">{{p.comments_c}} comments</a> -->
      <!-- </div> -->
    </div>

  <div style="margin-top:10px;">
    <form ng-submit="sendComment()">
      <label class="item item-input">
        <textarea ng-model="comment.content" cols="3" rows="3"></textarea>
      </label>
      <!-- <label class="item "> -->
      <input type="submit" value="comment" class="button button-small button-block button-calm">
      <!-- </label> -->
      <!-- <div> {{comment}}</div> -->
    </form>
  </div>
  <div class="list card" ng-repeat="c in comments">
    <a href="#/tab/home/users/{{c.user.id}}">
      <div class="item item-avatar">
        <img src="{{c.user.avatar}}">
        <h2>{{c.user.name}}</h2>
        <p ng-bind="c.created_at | date:'yyyy-MM-dd'"></p>
      </div>
    </a>
    <p style="margin-left:75px;">{{c.content}}</p>
  </div>
<!-- <button class="button button-assertive" ng-click="loadMore()">load</button> -->
<ion-infinite-scroll ng-if="dataLength == limit" on-infinite="loadMore()"></ion-infinite-scroll>

</ion-content>
</ion-view>
